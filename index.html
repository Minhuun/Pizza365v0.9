<!DOCTYPE html>
<html>
<title> Bootstrap template- Pizza 365 project</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- font -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- Bootstrap -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<body style="background-color: #101010;">
<!-- Menu -->
<div class="container-fluid bg-light">
  <div class="row">
    <div class="col-sm-12">
      <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-info">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse text-uppercase" id="navbarNav">
          <ul class="navbar-nav nav-fill w-100">
            <li class="nav-item active">
              <a class="nav-link text-white" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-white" href="#plans">Plans</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-white" href="#about">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-white" href="#contact">Contact</a>
            </li>
          </ul>
        </div>
      </nav>
    </div>
  </div>
</div>

<!-- Content -->
<div class="container" style="padding: 120px 0 50px 0;">
  
  <div class="row">
    <div class="col-sm-12">
      <div class="row">
        <!-- Title row home -->
        <div class="col-sm-12 text-center" style="color: white;">
          <h1><b>PIZZA 365</b></h1> 
        </div>
        <div class="col-sm-12 text-center font-italic" style="color: white;">
          <h2><b>Truly Italian!</b></h2> 
        </div>
        <!-- Slide row home -->
        <div class="col-sm-12">
          <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
              <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="4"></li>
            </ol>
            <div class="carousel-inner">
              <div class="carousel-item active">
                <img class="d-block w-100" src="images/mon_y_2.jpg" alt="First slide">
              </div>
              <div class="carousel-item">
                <img class="d-block w-100" src="images/mon-an-y.jpg" alt="Second slide">
              </div>
              <div class="carousel-item">
                <img class="d-block w-100" src="images/07122020-amthucy.jpg" alt="Third slide">
              </div>
              <div class="carousel-item">
                <img class="d-block w-100" src="images/nha-hang-the-pizza-company-2a.jpg" alt="Fourth slide">
              </div>
              <div class="carousel-item">
                <img class="d-block w-100" src="images/am-thuc-the-gioi-3-italia.jpg" alt="Fifth slide">
              </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
        </div>

        <!-- Title Tại sao lại Pizza 365 -->
        <div class="col-sm-12 text-center p-4 mt-4">
          <h2><b class="p-2 border-bottom" style="color: white;">Tại sao lại Pizza 365</b></h2>
        </div>

        <!-- Content Tại sao lại Pizza 365 -->
        <div class="col-sm-12">
          <div class="row">
            <div class="col-sm-3 p-4 bg-warning border">
              <h3 class="p-2">Chúng tôi là Pizza 365</h3>
              <p class="p-2">Đây là thương hiệu chuyên cung cấp các món ăn từ bánh pizza với các phong cách khác nhau.</p>
            </div>
            <div class="col-sm-3 p-4 bg-warning border">
              <h3 class="p-2">Những con số ấn tượng</h3>
              <p class="p-2">Hơn 6.000 nhà hàng Pizza 365 tại Hoa Kỳ.
                Hơn 16000 địa điểm cửa hàng.
                Hơn 100 quốc gia và vùng lãnh thổ khác trên thế giới.</p>
            </div>
            <div class="col-sm-3 p-4 bg-warning border">
              <h3 class="p-2">Pizza 365 "bự" như thế nào</h3>
              <p class="p-2">Pizza 365 được bình chọn là một trong trong 100 thương hiệu hoạt động tốt nhất thế giới..</p>
            </div>
            <div class="col-sm-3 p-4 bg-warning border">
              <h3 class="p-2">Pizza 365 tại Việt Nam</h3>
              <p class="p-2">Nhằm đáp ứng được nhu cầu và thị hiếu của khách hàng Việt Nam, tại đây có lên tới 14 loại pizza, 
                mì Ý, cơm, súp, các món khai vị, thức uống, tráng miệng khác nhau. .</p>
            </div>
          </div>
        </div>
      </div>

      <div id="plans" class="row">
        <!-- Title what we offer -->
        <div class="col-sm-12 text-center p-4 mt-4">
          <h2><b class="p-1 border-bottom" style="color: white;">Menu Combo Pizza 365</b></h2>
          <p><span class="p-2" style="color: white;">Hãy chọn cỡ pizza phù hợp với bạn!</span></p>
        </div>
        <!-- Content what we offer -->
        <div class="col-sm-12">
          <div class="row">
            <div class="col-sm-4">
              <img src="images/images (1).jpeg" class="card-img-top">
              <div class="card">
                <div class="card-header bg-warning text-dark text-center">
                  <h3>SMALL</h3>
                </div>
                <div class="card-body text-center">
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item"><b>Đường kính:</b> 20cm</li>
                    <li class="list-group-item"><b>Sườn nướng:</b> 02</li>
                    <li class="list-group-item"><b>Salah:</b> 200g</li>
                    <li class="list-group-item"><b>Nước ngọt:</b> 02</li>
                    <li class="list-group-item"><h1><b>150.000 VND</b></h1> Giá</li>
                  </ul>
                </div>
                <div class="card-footer text-center">
                  <button id="btn-S-size" class="btn btn-success" onclick="onBtnSizeSClick ()">Chọn</button>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <img src="images/images (1).jpeg" class="card-img-top">
              <div class="card">
                <div class="card-header bg-warning text-dark text-center">
                  <h3>MEDIUM</h3>
                </div>
                <div class="card-body text-center">
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item"><b>Đường kính:</b> 25cm</li>
                    <li class="list-group-item"><b>Sườn nướng:</b> 04</li>
                    <li class="list-group-item"><b>Salah:</b> 300g</li>
                    <li class="list-group-item"><b>Nước ngọt:</b> 03</li>
                    <li class="list-group-item"><h1><b>200.000 VND</b></h1> Giá</li>
                  </ul>
                </div>
                <div class="card-footer text-center">
                  <button id="btn-M-size" class="btn btn-success" onclick="onBtnSizeMClick ()" >Chọn</button>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <img src="images/images (1).jpeg" class="card-img-top">
              <div class="card">
                <div class="card-header bg-warning text-dark text-center">
                  <h3>LARGE</h3>
                </div>
                <div class="card-body text-center">
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item"><b>Đường kính:</b> 30cm</li>
                    <li class="list-group-item"><b>Sườn nướng:</b> 08</li>
                    <li class="list-group-item"><b>Salah:</b> 500g</li>
                    <li class="list-group-item"><b>Nước ngọt:</b> 04</li>
                    <li class="list-group-item"><h1><b>250.000 VND</b></h1> Giá</li>
                  </ul>
                </div>
                <div class="card-footer text-center">
                  <button id="btn-L-size" class="btn btn-success" onclick="onBtnSizeLClick ()">Chọn</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="about" class="row">
        <!-- Title Chọn loại pizza -->
        <div class="col-sm-12 text-center p-4 mt-4">
          <h2><b class="p-2 border-bottom" style="color: white;">Chọn Loại Pizza</b></h2>
        </div>

        <!-- Content chọn loại pizza -->
        <div class="col-sm-12">
          <div class="row">
            <div class="col-sm-4">
              <div class="card w-100" style="width: 18rem;">
                <img src="images/hawai.jpg" class="card-img-top">
                <div class="card-body">
                  <h3>Hawai</h3>
                  <p>SIGNATURE</p>
                  <p id="hawai">Mang hương vị truyền thống với thịt bò bằm, thịt giăm bông xốt cà chua và phủ phô mai Mozzarella.</p>
                  <p><button id="btn-hawai" class="btn btn-info w-100" onclick="onBtnHawaiClick ()">Chọn</button></p>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="card w-100" style="width: 18rem;">
                <img src="images/2-pizza-haisan.jpg" class="card-img-top">
                <div class="card-body">
                  <h3>Hải sản</h3>
                  <p>BEST SELLER</p>
                  <p id="sea-food">Mang hương vị biển cả nhẹ nhàng với cá ngừ, hành tây, ớt chuông đỏ thơm trên nền Pesto.</p>
                  <p><button id="btn-sea-food" class="btn btn-info w-100" onclick="onBtnSeaFoodClick ()">Chọn</button></p>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="card w-100" style="width: 18rem;">
                <img src="images/pizza thit hun khoi.jpg" class="card-img-top">
                <div class="card-body">
                  <h3>Thịt hun khói</h3>
                  <p>RECOMMEND</p>
                  <p id="bacon">Thơm ngon và giàu Protein với thịt xông khói, xúc xích, thịt bò, giăm bông và pepperoni.</p>
                  <p><button id="btn-bacon" class="btn btn-info w-100" onclick="onBtnBaconClick ()">Chọn</button></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="container col-mt-6 text-center">
        <img src="images/menu-do-uong-can-co-nhung-gi.jpg" class="card-img-bot">
        <label class="card-header bg-warning" style="font-size: 24px; font-weight: bold;">Hãy chọn đồ uống bạn yêu thích</label>
        <select id="select-drink" name="student" class="card-header col-md-4 bg-info text-white text-center" style="font-size: 26px; font-weight: bold;" >

        </select>
    </div>  
                
      <div id="contact" class="row">
        
        <!-- Title Gui don hang -->
        <div class="col-sm-12 text-center p-4 mt-4">
          <h2><b class="p-2 border-bottom" style="color: white;">Gửi đơn hàng</b></h2>
        </div>

        <!-- Content don hang -->
        <div class="col-sm-12 p-2 jumbotron">
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group">
                <label for="fullname">Họ và tên</label>
                <input type="text" class="form-control" id="inp-fullname" placeholder="Họ và tên">
              </div>
              <div class="form-group">
                <label for="email">Email</label>
                <input type="text" class="form-control" id="inp-email" placeholder="Email">
              </div>
              <div class="form-group">
                <label for="dien-thoai">Điện thoại</label>
                <input type="text" class="form-control" id="inp-dien-thoai" placeholder="Điện thoại">
              </div>
              <div class="form-group">
                <label for="dia-chi">Địa chỉ</label>
                <input type="text" class="form-control" id="inp-dia-chi" placeholder="Địa chỉ">
              </div>
              <div class="form-group">
                <label for="message">Lời nhắn</label>
                <input type="text" class="form-control" id="inp-message" placeholder="Lời nhắn">
              </div>
              <div class="form-group">
                <label for="voucher">Mã giảm giá (Voucher ID)</label>
                <input type="text" class="form-control" id="inp-voucher" placeholder="Mã giảm giá">
              </div>
              <button type="button" id="btn-send-data" class="btn btn-info w-100" onclick="onBtnSendDataClick()">Gửi đơn</button>
            </div>
          </div>
        </div>
        <!-- vùng hiển thị thông tin đơn hàng(order) -->
        <div id="div-container-order" class="container bg-info p-2 jumbotron" style="display: none;">
          <div id="div-order-infor" class="text-white p-3">...</div>
          <div class="p-2">
            <button type="button" class="btn btn-warning w-100">Xác nhận</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Footer -->
<div class="container-fluid bg-info p-5">
  <div class="row text-center">
    <div class="col-sm-12">
      <h4 class="m-2">Footer</h4>
      <a href="#" class="btn btn-dark m-3"><i class="fa fa-arrow-up"></i>To the top</a>
      <div class="m-2">
        <i class="fa fa-facebook-official w3-hover-opacity"></i>
        <i class="fa fa-instagram w3-hover-opacity"></i>
        <i class="fa fa-snapchat w3-hover-opacity"></i>
        <i class="fa fa-pinterest-p w3-hover-opacity"></i>
        <i class="fa fa-twitter w3-hover-opacity"></i>
        <i class="fa fa-linkedin w3-hover-opacity"></i>
      </div>
    </div>
  </div>
</div>
<script>
"use strict";
/*** REGION 1 - Global variables - Vùng khai báo biến, hằng số, tham số TOÀN CỤC */
const gREQUEST_STATUS_FINISH_AND_OK = 200;
// bạn có thể dùng để lưu trữ combo được chọn, 
// mỗi khi khách chọn menu S, M, L bạn lại đổi giá trị properties của nó
var gSelectedMenuStructure = {
  menuName: "...",    // S, M, L
  duongKinhCM: 0,
  suongNuong: 0,
  saladGr: 0,
  drink: 0,
  priceVND: 0
}

// bạn có thể dùng để lưu loại pizza đươc chọn, mỗi khi khách chọn, bạn lại đổi giá trị cho nó
var gSelectedPizzaType = {
  typeName: "...", //Hawai, Hải sản, thịt xông khói
  description: "..."
}
//Khai báo các Input Element trong phần gửi đơn hàng
//debugger;
var gInpFullName = document.getElementById("inp-fullname");
var gInpEmail = document.getElementById("inp-email");
var gInpPhoneNumber = document.getElementById("inp-dien-thoai");
var gInpAdress = document.getElementById("inp-dia-chi");
var gInpMessage = document.getElementById("inp-message");
var gInpVoucherId = document.getElementById("inp-voucher");
var gSelectDrink = document.getElementById("select-drink");

// danh sách các mã giảm giá
/*var gDiscountVouchers = [
  { voucherID:"A1", percentDiscount: 20 },   // mã giảm giá là A1, phần trăm giảm giá 20%
  { voucherID:"A2", percentDiscount: 10 },
  { voucherID:"A3", percentDiscount: 5 },
  { voucherID:"A4", percentDiscount: 30 },
  { voucherID:"A5", percentDiscount: 20 },
  { voucherID:"B1", percentDiscount: 25 },
  { voucherID:"B2", percentDiscount: 15 },
  { voucherID:"B3", percentDiscount: 5 },
  { voucherID:"B4", percentDiscount: 30 },
  { voucherID:"B5", percentDiscount: 40 }  
];*/

    const gREQUEST_STATUS_OK = 200; // GET & PUT success
    const gREQUEST_READY_STATUS_FINISH_AND_OK = 4;
/*** REGION 2 - Vùng gán / thực thi hàm xử lý sự kiện cho các elements */
    onPageLoading ();
/*** REGION 3 - Event handlers - Vùng khai báo các hàm xử lý sự kiện */
    function onPageLoading(){
      loadDataDrinklist();
    }
    // Ham thuc hien viec load data drink list
    function loadDataDrinklist() {
    "use strict";
    //debugger;
    var vBASE_URL ="http://42.115.221.44:8080/devcamp-pizza365/drinks";
    var vXhttp = new XMLHttpRequest();
    vXhttp.open("GET", vBASE_URL, true);
    vXhttp.send();
    vXhttp.onreadystatechange = function() {
        if (vXhttp.readyState == gREQUEST_READY_STATUS_FINISH_AND_OK && vXhttp.status == gREQUEST_STATUS_OK) {
          var vJsonDrinkListObj = JSON.parse(vXhttp.responseText);
          for(var bIterator = 0; bIterator < vJsonDrinkListObj.length; bIterator++){
          var bDrinkOptionElement = document.createElement("option");
          bDrinkOptionElement.value = vJsonDrinkListObj[bIterator].maNuocUong;
          bDrinkOptionElement.text = vJsonDrinkListObj[bIterator].tenNuocUong;
          gSelectDrink.appendChild(bDrinkOptionElement);
          }
        }
      }
      
    }
//Hàm xử lý sự kiện trạng thái của 3 nút khi người dùng chọn combo
  function setMenuBtnColor (paramSelectMenuName) {
    "use strict";
    //Truy vấn 3 nút
    var vBtnSizeS = document.getElementById("btn-S-size");
    var vBtnSizeM = document.getElementById("btn-M-size");
    var vBtnSizeL = document.getElementById("btn-L-size");
    //Set className hiển thị trạng thái của 3 nút
    if (paramSelectMenuName == "Small") {
      vBtnSizeS.className = "btn btn-warning"; //orange color
      vBtnSizeM.className = "btn btn-success";
      vBtnSizeL.className = "btn btn-success";
    }
    else if (paramSelectMenuName == "Medium") {
      vBtnSizeS.className = "btn btn-success"; 
      vBtnSizeM.className = "btn btn-warning"; //orange color
      vBtnSizeL.className = "btn btn-success";
    }
    else if (paramSelectMenuName == "Large") {
      vBtnSizeS.className = "btn btn-success"; 
      vBtnSizeM.className = "btn btn-success"; 
      vBtnSizeL.className = "btn btn-warning"; //orange color
    }
  }
      //Hàm thực thi sự kiện khi chọn size S
      function onBtnSizeSClick () {
        "use strict";
        gSelectedMenuStructure.menuName = "Small";
        gSelectedMenuStructure.duongKinhCM = "20cm";
        gSelectedMenuStructure.suongNuong = "02";
        gSelectedMenuStructure.saladGr = "200g";
        gSelectedMenuStructure.drink = "02";
        gSelectedMenuStructure.priceVND = "150.000";
        
        //method display in console log
          /*console.log("Menu Selected")
          console.log("Menu Name: " + gSelectedMenuStructure.menuName);
          console.log("Đường kính: " + gSelectedMenuStructure.duongKinhCM);
          console.log("Sườn nướng: " + gSelectedMenuStructure.suongNuong);
          console.log("Salah: " + gSelectedMenuStructure.saladGr);
          console.log("Nước ngọt: " + gSelectedMenuStructure.drink);
          console.log("Giá: " + gSelectedMenuStructure.priceVND);*/

          setMenuBtnColor(gSelectedMenuStructure.menuName);
      }
      //Hàm thực thi sự kiện khi chọn size M
      function onBtnSizeMClick () {
        "use strict";
        gSelectedMenuStructure.menuName = "Medium";
        gSelectedMenuStructure.duongKinhCM = "25cm";
        gSelectedMenuStructure.suongNuong = "04";
        gSelectedMenuStructure.saladGr = "300g";
        gSelectedMenuStructure.drink = "03";
        gSelectedMenuStructure.priceVND = "200.000";
        
        //method display in console log
          /*console.log("Menu Selected")
          console.log("Menu Name: " + gSelectedMenuStructure.menuName);
          console.log("Đường kính: " + gSelectedMenuStructure.duongKinhCM);
          console.log("Sườn nướng: " + gSelectedMenuStructure.suongNuong);
          console.log("Salah: " + gSelectedMenuStructure.saladGr);
          console.log("Nước ngọt: " + gSelectedMenuStructure.drink);
          console.log("Giá: " + gSelectedMenuStructure.priceVND);*/

          setMenuBtnColor(gSelectedMenuStructure.menuName);
      }
      //Hàm thực thi sự kiện khi chọn size L
      function onBtnSizeLClick () {
        "use strict";
        gSelectedMenuStructure.menuName = "Large";
        gSelectedMenuStructure.duongKinhCM = "30cm";
        gSelectedMenuStructure.suongNuong = "08";
        gSelectedMenuStructure.saladGr = "500g";
        gSelectedMenuStructure.drink = "04";
        gSelectedMenuStructure.priceVND = "250.000";
        
        //method display in console log
          /*console.log("Menu Selected")
          console.log("Menu Name: " + gSelectedMenuStructure.menuName);
          console.log("Đường kính: " + gSelectedMenuStructure.duongKinhCM);
          console.log("Sườn nướng: " + gSelectedMenuStructure.suongNuong);
          console.log("Salah: " + gSelectedMenuStructure.saladGr);
          console.log("Nước ngọt: " + gSelectedMenuStructure.drink);
          console.log("Giá: " + gSelectedMenuStructure.priceVND);*/

          setMenuBtnColor(gSelectedMenuStructure.menuName);
      }
//Hàm xử lý sự kiện trạng thái của 3 nút khi người dùng chọn loại pizza
    function setTypeBtnColor (paramSelectTypeName) {
    "use strict";
      //Truy vấn 3 nút
      var vBtnHawai = document.getElementById("btn-hawai");
      var vBtnSeaFood = document.getElementById("btn-sea-food");
      var vBtnBacon = document.getElementById("btn-bacon");
      //Set className hiển thị trạng thái của 3 nút
      if (paramSelectTypeName == "Hawai") {
        vBtnHawai.className = "btn btn-warning w-100"; //orange color
        vBtnSeaFood.className = "btn btn-success w-100";
        vBtnBacon.className = "btn btn-success w-100";
      }
      else if (paramSelectTypeName == "Sea Food") {
        vBtnHawai.className = "btn btn-success w-100"; 
        vBtnSeaFood.className = "btn btn-warning w-100"; //orange color
        vBtnBacon.className = "btn btn-success w-100";
      }
      else if (paramSelectTypeName == "Bacon") {
        vBtnHawai.className = "btn btn-success w-100"; 
        vBtnSeaFood.className = "btn btn-success w-100"; 
        vBtnBacon.className = "btn btn-warning w-100"; //orange color
    }
  }
      //Hàm thực thi khi chọn loại Pizza Hawai
        function onBtnHawaiClick () {
        "use strict";
          gSelectedPizzaType.typeName = "Hawai";
          gSelectedPizzaType.description = document.getElementById("hawai").innerHTML;
      
      
      //method display in console log
        console.log("TYPE PIZZA SELECTED")
        console.log("Type Name: " + gSelectedPizzaType.typeName);
        console.log("Thành phần: " + gSelectedPizzaType.description);

        setTypeBtnColor(gSelectedPizzaType.typeName);
      }
      //Hàm thực thi khi chọn loại Pizza Sea Food
      function onBtnSeaFoodClick () {
        "use strict";
          gSelectedPizzaType.typeName = "Sea Food";
          gSelectedPizzaType.description = document.getElementById("sea-food").innerHTML;
      
      
      //method display in console log
        console.log("TYPE PIZZA SELECTED")
        console.log("Type Name: " + gSelectedPizzaType.typeName);
        console.log("Thành phần: " + gSelectedPizzaType.description);

        setTypeBtnColor(gSelectedPizzaType.typeName);
      }
      //Hàm thực thi khi chọn loại Pizza Sea Food
      function onBtnBaconClick () {
        "use strict";
          gSelectedPizzaType.typeName = "Bacon";
          gSelectedPizzaType.description = document.getElementById("bacon").innerHTML;
      
      
      //method display in console log
        console.log("TYPE PIZZA SELECTED")
        console.log("Type Name: " + gSelectedPizzaType.typeName);
        console.log("Thành phần: " + gSelectedPizzaType.description);

        setTypeBtnColor(gSelectedPizzaType.typeName);
      }
      function onBtnSendDataClick() {
        "use strict";
        console.log ("Lưu dữ liệu đơn hàng");
        // khai báo đối tượng đơn hàng chứa dữ liệu
        //Lưu trữ thông tin đơn hàng
          var vOrder = {
            fullName: "...",
            email: "...",
            phoneNumber: 0,
            adress: "...",
            message: "...",
            voucherId: "...",
            maNuocUong: "..."
          }
        // B1: thu thập dữ liệu
        getFormData(vOrder);  
        
        // B2: kiểm tra dữ liệu
        var vIsValidData = validateData(vOrder);
      
        if (vIsValidData) {
           
          // B3: //Ghi du lieu vao vung xanh         
          showDataOrder(vOrder);
        }          
      }
      /*** REGION 4 - Common funtions - Vùng khai báo hàm dùng chung trong toàn bộ chương trình*/
      //Hàm thu thập dữ liệu
      //Input: biến chứa dữ liệu đơn đặt hàng
      //Output: biến chứa các giá trị nhập trên đơn đặt hàng
      function getFormData (paramOrder) {
        "use strict";
        //debugger;
        //Gán giá trị cho tham số đơn hàng
        paramOrder.fullName = gInpFullName.value.trim();
        paramOrder.email = gInpEmail.value.trim();
        paramOrder.phoneNumber = gInpPhoneNumber.value.trim();
        paramOrder.adress = gInpAdress.value.trim();
        paramOrder.message = gInpMessage.value.trim();
        paramOrder.voucherId = gInpVoucherId.value.trim();
        paramOrder.maNuocUong = gSelectDrink.options[gSelectDrink.selectedIndex].text;
      }
      //Hàm kiểm tra dữ liệu
      function validateData (paramOrder) {
        "use strict";
        if (paramOrder.fullName === ""){
          alert("Vui lòng nhập tên của bạn");
          return false;
        }
        if (isNaN(paramOrder.phoneNumber)){
          alert("Vui lòng nhập số điện thoại");
          return false;
        }
        if (paramOrder.adress === ""){
          alert("Vui lòng nhập địa chỉ");
          return false;
        }
        if (paramOrder.voucherId === ""){
           alert("Vui lòng nhập mã giảm giá: 12354, 95531, 12332, 81432, 10056")
        }
        let vEmail = gInpEmail.value;
          if (vEmail.includes("@")){
            }else{
            alert("Email không hợp lệ");
        }
          return true;
        
      }
      
      // Ham thuc hien viec gui request toi server de kiem tra ma giam gia
      function sendRequestToGetVoucherDiscount (paramOrder, paramXmlHttp) {
        paramXmlHttp.open("GET", "http://42.115.221.44:8080/devcamp-voucher-api/voucher_detail/" + paramOrder.voucherId, false);
        paramXmlHttp.send();
      }
      function getPercentDiscount (paramXmlHttp){
        //Nhan response va xu ly
        var vStatusCode = paramXmlHttp.status;
          //Neu trang thai tra ve thanh cong
        if(vStatusCode == gREQUEST_STATUS_FINISH_AND_OK){
          // nhận lại response dạng JSON ở xmlHttp.responseText và chuyển thành object
          var bVoucherResponse = JSON.parse(paramXmlHttp.responseText);
          return bVoucherResponse.phanTramGiamGia;
        }else{
          return 0;
        }
      }
      //Hàm hiển thị thông tin đơn hàng
      function showDataOrder(paramOrder) {
        "use strict";
        var vDivContainerOrderElement = document.getElementById("div-container-order"); //vùng chứa màu xanh
        var vDivOrderInfoElement = document.getElementById("div-order-infor"); //vùng hiển thị thông tin đơn hàng
        var vXmlHttp = new XMLHttpRequest();
        //var vVoucherResponseJson =  vXmlHttp.responseText;
        //console.log(vVoucherResponseJson);
        sendRequestToGetVoucherDiscount (paramOrder,vXmlHttp);
        //Check discount
        var vPercentDiscount = getPercentDiscount(vXmlHttp);

        if (vPercentDiscount !== -1) {          
          var vPayment = (gSelectedMenuStructure.priceVND * (100 - vPercentDiscount)) / 100;
        }
        else{
          alert("Mã giảm giá không tồn tại");
          vPayment = gSelectedMenuStructure.priceVND;
        }

        //Hiển thị vùng chứa màu xanh
        vDivContainerOrderElement.style.display = "block";

        /*console.log("Menu Selected")
        console.log("Menu Name: " + gSelectedMenuStructure.menuName);
        console.log("Đường kính: " + gSelectedMenuStructure.duongKinhCM);
        console.log("Sườn nướng: " + gSelectedMenuStructure.suongNuong);
        console.log("Salah: " + gSelectedMenuStructure.saladGr);
        console.log("Nước ngọt: " + gSelectedMenuStructure.drink);
        console.log("Giá: " + gSelectedMenuStructure.priceVND);*/

        //Hiển thị thông tin đơn hàng
        vDivOrderInfoElement.innerHTML = "Full Name: " + paramOrder.fullName;
        vDivOrderInfoElement.innerHTML += "<br/> Email: " + paramOrder.email;
        vDivOrderInfoElement.innerHTML += "<br/> Điện thoại: " + paramOrder.phoneNumber;
        vDivOrderInfoElement.innerHTML += "<br/> Địa chỉ: " + paramOrder.adress;
        vDivOrderInfoElement.innerHTML += "<br/> Lời nhắn: " + paramOrder.message;
        vDivOrderInfoElement.innerHTML += "<br/>...................................";
        vDivOrderInfoElement.innerHTML += "<br/> Kích cỡ: " + gSelectedMenuStructure.menuName;
        vDivOrderInfoElement.innerHTML += "<br/> Đường kính: " + gSelectedMenuStructure.duongKinhCM;
        vDivOrderInfoElement.innerHTML += "<br/> Sườn nướng: " + gSelectedMenuStructure.suongNuong;
        vDivOrderInfoElement.innerHTML += "<br/> Salah: " + gSelectedMenuStructure.saladGr;
        vDivOrderInfoElement.innerHTML += "<br/> Nước ngọt: " + gSelectedMenuStructure.drink;
        vDivOrderInfoElement.innerHTML += "<br/>...................................";
        vDivOrderInfoElement.innerHTML += "<br/> Loại Pizza: " + gSelectedPizzaType.typeName;
        vDivOrderInfoElement.innerHTML += "<br/> Loại Nước uống: " + paramOrder.maNuocUong;
        vDivOrderInfoElement.innerHTML += "<br/> Mã voucher: " + paramOrder.voucherId;
        vDivOrderInfoElement.innerHTML += "<br/> Giá: " + gSelectedMenuStructure.priceVND;
        vDivOrderInfoElement.innerHTML += "<br/> Discount %: " + vPercentDiscount + "<br>" 
        + "Khi trước ngta có nguyện vọng-khao khát được vào vị trí đó mà m ko cho, đến khi ngta nghỉ việc thì m tạo điều kiện. DKM m nhé T";
        vDivOrderInfoElement.innerHTML += "<br/> Phải thanh toán: " + vPayment + ".000";       
      }
</script>
</body>
</html>
